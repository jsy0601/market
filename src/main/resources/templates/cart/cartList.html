<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<th:block layout:fragment="script">
  <script th:inline="javascript">
    // $(document).ready(function () {
    //   getTotalPrice();
    // });

  </script>
</th:block>
<head>
  <meta charset="UTF-8">
  <title>장바구니</title>
</head>
<body>
<div th:replace="fragments/header::header"></div>
<h3>장바구니</h3>
<table>
  <thead>
    <tr>
      <td>상품정보</td>
      <td>상품금액</td>
    </tr>
  </thead>
  <tbody>
  <tr th:each="cartItem : ${cartItems}">
    <td>
      <img th:src="${cartItem.imgUrl}" th:alt="${cartItem.title}" width="50px">
      <span th:text="${cartItem.title}"></span>
      <span id="price" th:text="${cartItem.price} + '원'"></span>
      <span id="count" th:text="${cartItem.count}"></span>
    </td>
    <td>
      <span th:text="${cartItem.price * cartItem.count} + '원'" th:data="${cartItem.price * cartItem.count}"></span>
      <button type="button" th:data="${cartItem.cartItemId}">X</button>
    </td>
  </tr>
  </tbody>
</table>
<!--<h2>결제 예정 금액 <span id="totalPrice"></span></h2>-->
<button type="button">주문하기</button>
</body>
</html>